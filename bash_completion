# vim: syntax=sh

_stream()
{
    local cur prev
    COMPREPLY=()
    cur=${COMP_WORDS[COMP_CWORD]}

    commands='head lag'

    if [[ $COMP_CWORD -eq 1 ]] ; then
        COMPREPLY=( $( compgen -W "$commands" -- $cur ) )
        return 0
    fi

    prev=${COMP_WORDS[COMP_CWORD-1]}

    COMPREPLY=( $( compgen -W "$(ls /etc/stream/in)" $cur) )

    return 0;
}

complete -o nospace -F _stream stream

